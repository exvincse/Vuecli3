(function(e){function t(t){for(var a,c,u=t[0],i=t[1],s=t[2],d=0,f=[];d<u.length;d++)c=u[d],o[c]&&f.push(o[c][0]),o[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);h&&h(t);while(f.length)f.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,c=1;c<n.length;c++){var u=n[c];0!==o[u]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},c={app:0},o={app:0},r=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2491d58c":"90aaa366","chunk-2d0b978a":"68f4809c","chunk-4f8a98e8":"1b2979fa","chunk-5778850c":"8ba0570e","chunk-643407e8":"5605fef0","chunk-6c421dba":"2efb7a39","chunk-6ec9b919":"c030a673","chunk-a944ac06":"cf8e67f3","chunk-bd2bb9fc":"eb97a830","chunk-c54ee756":"31ac01a2","chunk-ca0e2362":"74fa28b4"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-2491d58c":1,"chunk-4f8a98e8":1,"chunk-5778850c":1,"chunk-a944ac06":1,"chunk-bd2bb9fc":1,"chunk-c54ee756":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise(function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-2491d58c":"c24b62ff","chunk-2d0b978a":"31d6cfe0","chunk-4f8a98e8":"663c2300","chunk-5778850c":"663c2300","chunk-643407e8":"31d6cfe0","chunk-6c421dba":"31d6cfe0","chunk-6ec9b919":"31d6cfe0","chunk-a944ac06":"ecf05fa8","chunk-bd2bb9fc":"23d90689","chunk-c54ee756":"663c2300","chunk-ca0e2362":"31d6cfe0"}[e]+".css",o=i.p+a,r=document.getElementsByTagName("link"),u=0;u<r.length;u++){var s=r[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===a||d===o))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],d=s.getAttribute("data-href");if(d===a||d===o)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var a=t&&t.target&&t.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete c[e],h.parentNode.removeChild(h),n(r)},h.href=o;var l=document.getElementsByTagName("head")[0];l.appendChild(h)}).then(function(){c[e]=0}));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise(function(t,n){a=o[e]=[t,n]});t.push(a[2]=r);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(e),s=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=o[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+a+": "+c+")");r.type=a,r.request=c,n[1](r)}o[e]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:d})},12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var h=d;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),c=n("bc3a"),o=n.n(c),r=n("a7fe"),u=n.n(r),i=n("9062"),s=n.n(i),d=n("7bb1"),f=n("2f62"),h=n("8c4f"),l=(n("e40d"),n("4989"),n("15f5"),n("427f")),p=n.n(l),m=n("7212"),g=n.n(m),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("loading",{staticStyle:{"z-index":"9999","overflow-y":"hidden"},attrs:{active:e.isLoading},on:{"update:active":function(t){e.isLoading=t}}}),n("router-view")],1)},v=[],k={computed:{isLoading:function(){return this.$store.state.isLoading}}},E=k,y=(n("5c0b"),n("2877")),w=Object(y["a"])(E,b,v,!1,null,null,null),A=w.exports;a["a"].use(h["a"]);var D=new h["a"]({base:"",routes:[{path:"*",redirect:"/index"},{name:"後台",path:"/admin",component:function(){return n.e("chunk-c54ee756").then(n.bind(null,"5625"))},meta:{requiresAuth:!0},children:[{path:"products",component:function(){return n.e("chunk-6c421dba").then(n.bind(null,"82e6"))},meta:{requiresAuth:!0}},{path:"orderlist",component:function(){return n.e("chunk-643407e8").then(n.bind(null,"2314"))},meta:{requiresAuth:!0}},{path:"coupons",component:function(){return n.e("chunk-4f8a98e8").then(n.bind(null,"c3cb"))},meta:{requiresAuth:!0}}]},{name:"登入",path:"/login",component:function(){return n.e("chunk-2491d58c").then(n.bind(null,"1954"))}},{path:"/index",component:function(){return n.e("chunk-a944ac06").then(n.bind(null,"90b1"))},children:[{path:"",component:function(){return n.e("chunk-bd2bb9fc").then(n.bind(null,"cc4f"))}},{path:"/products",component:function(){return n.e("chunk-ca0e2362").then(n.bind(null,"fc1e"))}},{path:"/products/:id",component:function(){return n.e("chunk-5778850c").then(n.bind(null,"3f24"))}},{path:"/cart",component:function(){return n.e("chunk-6ec9b919").then(n.bind(null,"ebd9"))}}]},{path:"/checkout/:id",component:function(){return n.e("chunk-2d0b978a").then(n.bind(null,"32a6"))}}]});a["a"].prototype.$bus=new a["a"],a["a"].prototype.$getcart=new a["a"];n("a481"),n("c5f6");var O=function(e){var t=Number(e);return"$".concat(t.toFixed(0).replace(/./g,function(e,t,n){var a=t&&"."!==e&&(n.length-t)%3===0?", ".concat(e).replace(/\s/g,""):e;return a}))},I=function(e){var t=new Date(e).getFullYear(),n=new Date(e).getMonth(),a=new Date(e).getDate(),c=t+"/"+(n+1)+"/"+a;return c},L=(n("ac6a"),n("8615"),{namespaced:!0,state:{product:[]},actions:{getProducts:function(e){return e.commit("LOADING",!0,{root:!0}),new Promise(function(t,n){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("yang","/products/all");o.a.get(a).then(function(a){if(a.data.success){var c=Object.values(a.data.products).map(function(e){return e});e.commit("PRODUCT",c),e.commit("LOADING",!1,{root:!0}),t()}else n(new Error("123"))})})}},mutations:{PRODUCT:function(e,t){e.product=t}}}),M={namespaced:!0,state:{data:{carts:[]},timeSender:null,loading:"",isdisable:"",hide:!0},actions:{getCart:function(e){return e.commit("HIDE",!0),e.commit("LOADING",!0,{root:!0}),new Promise(function(t,n){var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("yang","/cart");o.a.get(a).then(function(a){a.data.success?(0===a.data.data.carts.length&&e.commit("HIDE",!1),e.commit("GETCART",a.data.data),e.commit("LOADING",!1,{root:!0}),t()):n(new Error("error!"))})})},removeCart:function(e,t){return e.commit("LOADING",!0,{root:!0}),e.commit("DISABLE",t),new Promise(function(n,a){var c="".concat("https://vue-course-api.hexschool.io","/api/").concat("yang","/cart/").concat(t);o.a.delete(c).then(function(a){if(a.data.success){var c=a.data.message+"商品";e.dispatch("updateMessage",{message:c,status:"danger"},{root:!0}),e.commit("DISABLE",t),e.commit("LOADING",!1,{root:!0}),n()}})})},addtocart:function(e,t){var n=t.id,a=t.qty;e.commit("LOADINGITEM",n);var c="".concat("https://vue-course-api.hexschool.io","/api/").concat("yang","/cart"),r={data:{product_id:n,qty:a}};o.a.post(c,r).then(function(t){if(t.data.success){var n=t.data.message;e.dispatch("updateMessage",{message:n,status:"success"},{root:!0})}else{var a=t.data.message;e.dispatch("updateMessage",{message:a,status:"danger"},{root:!0})}e.dispatch("getCart"),e.commit("LOADINGITEM","")})}},mutations:{GETCART:function(e,t){e.data=t},LOADINGITEM:function(e,t){e.loading=t},DISABLE:function(e,t){e.isdisable=t},HIDE:function(e,t){e.hide=t}},getters:{data:function(e){return e.data},isdisabled:function(e){return e.isdisable}}};a["a"].use(f["a"]);var T=new f["a"].Store({strict:!0,state:{isLoading:!1,isdisabled:!1,message:[]},actions:{updateLoading:function(e,t){e.commit("LOADING",t)},IsDisabled:function(e,t){e.commit("ISDISABLE",t)},updateMessage:function(e,t){var n=t.message,a=t.status,c=Math.floor(new Date/1e3);e.commit("MESSAGE",{message:n,status:a,timestamp:c}),e.dispatch("removeMessageWithTiming",c)},removeMessage:function(e,t){e.commit("REMOVE",t)},removeMessageWithTiming:function(e,t){setTimeout(function(){e.commit("TIMEREMOVE",t)},5e3)}},mutations:{LOADING:function(e,t){e.isLoading=t},ISDISABLE:function(e,t){e.isdisabled=t},MESSAGE:function(e,t){var n=t.message,a=t.status,c=t.timestamp;e.message.push({message:n,status:a,timestamp:c})},TIMEREMOVE:function(e,t){e.message.forEach(function(n,a){n.timestamp===t&&e.message.splice(a,1)})},REMOVE:function(e,t){e.message.splice(t,1)}},modules:{Mproduct:L,Mcart:M}});a["a"].use(f["a"]),a["a"].use(h["a"]),a["a"].use(g.a),a["a"].use(u.a,o.a),a["a"].use(d["a"],{events:"blur"}),d["a"].Validator.localize("zh_TW",p.a),a["a"].config.productionTip=!1,o.a.defaults.withCredentials=!0,a["a"].component("Loading",s.a),a["a"].filter("currency",O),a["a"].filter("DateFilter",I),D.afterEach(function(){window.scrollTo(0,0)}),new a["a"]({render:function(e){return e(A)},components:{App:A},template:"<App/>",router:D,store:T}).$mount("#app"),D.beforeEach(function(e,t,n){if(e.meta.requiresAuth){var a="".concat("https://vue-course-api.hexschool.io","/api/user/check");o.a.post(a).then(function(e){e.data.success?n():n({path:"/login"})})}else n()})},"5c0b":function(e,t,n){"use strict";var a=n("5e27"),c=n.n(a);c.a},"5e27":function(e,t,n){}});
//# sourceMappingURL=app.3b3313ca.js.map